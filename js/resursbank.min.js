var $resurs_bank=jQuery.noConflict();$resurs_bank(document).ready(function(a){resursBankLoaded()});$resurs_bank(document).on("updated_checkout",function(){resursBankCheckUpdates()});var resursCheckoutAddressObject={firstname:"first_name",surname:"last_name",address:"address_1",addressExtra:"address_2",postal:"postcode",city:"city",countryCode:"country",telephone:"phone",email:"email"};function resurs_bank_dismiss(a){$resurs_bank(a).html(getResursBankSpinner("dismiss_image_"+a));resurs_bank_ajaxify("dismiss_element",{element:a},function(b,c){if(typeof b.responseAdmin["dismissed"]!=="undefined"){$resurs_bank("#"+b.responseAdmin["dismissed"]).remove()}if(typeof b.response["dismissed"]!=="undefined"){$resurs_bank("#"+b.response["dismissed"]).remove()}})}function resurs_bank_ajaxify(c,b,a){$resurs_bank.ajax({url:resurs_bank_payment_gateway.backend_nonce+"&run="+c,method:"POST",data:b}).success(function(d){if(typeof a==="function"){a(d,b)}})}function resursBankCheckUpdates(){if($resurs_bank("#resursbankcustom_getaddress_governmentid").length===1){$resurs_bank("input[id*='resursbankcustom_government_id_']").filter(":visible").val($resurs_bank("#resursbankcustom_getaddress_governmentid").val())}}function resursBankFormFieldChange(a){if(a.id.indexOf("resursbankcustom_government_id_")>-1){$resurs_bank("#resursbankcustom_getaddress_governmentid").val(a.value)}}function resursBankHandleCheckoutForms(){$resurs_bank(".woocommerce-billing-fields").hide();$resurs_bank(".woocommerce-shipping-fields").hide()}function getResursCostOfPurchase(b,a){window.open(resurs_bank_payment_gateway.getCostOfPurchaseBackendUrl+"&method="+b+"&amount="+a,"resursCostOfPurchasePopup","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,copyhistory=no,resizable=yes,width=650px,height=740px")}var releaseRco;function setResursCheckoutInterceptor(){$resurs_bank(document).ajaxSuccess(function(b,d,a){if(typeof d.responseJSON!=="undefined"){var c=d.responseJSON;if(typeof c.result!=="undefined"&&typeof releaseRco!=="undefined"){if(c.result==="success"){releaseRco.confirm(true)}}}});if(typeof _resursCheckout!=="undefined"){_resursCheckout.init({debug:false,container:"resurs-checkout-container",domain:resurs_bank_payment_gateway.iframeUrl,interceptor:true,on:{loaded:null,booked:function(a){releaseRco=a;$resurs_bank("#place_order").click()},fail:function(){},change:function(a){getResursCheckoutFields(a)}}})}}function setResursCheckoutFields(d,b){var a;for(var c in d){if(typeof resursCheckoutAddressObject[c]!=="undefined"){a=resursCheckoutAddressObject[c];if(d[c]!==""&&$resurs_bank("#currentMatchingKey").length>-1){$resurs_bank("#"+b+"_"+a).val(d[c])}}}}function getWoocommerceShippingCheckboxByResurs(a){if($resurs_bank("#ship-to-different-address-checkbox").length>0){var b=$resurs_bank("#ship-to-different-address-checkbox")[0];if(!b.checked&&a){b.click()}if(b.checked&&!a){b.click()}}}function getResursCheckoutFields(b){var a=b.paymentMethod;if(typeof b.address!=="undefined"){setResursCheckoutFields(b.address,"billing")}if(typeof b.delivery!=="undefined"&&typeof b.delivery["firstname"]!=="undefined"){getWoocommerceShippingCheckboxByResurs(true);setResursCheckoutFields(b.delivery,"shipping")}else{getWoocommerceShippingCheckboxByResurs(false)}}function resursBankLoaded(){$resurs_bank("#resursbankcustom_getaddress_governmentid").on("keyup",function(b){var c=$resurs_bank("input[id*='resursbankcustom_government_id_']").filter(":visible");c.val(this.value)});setResursCheckoutInterceptor();if(typeof resursBankWooInitialize==="function"){resursBankWooInitialize()}if(resurs_bank_payment_gateway.suggested_flow==="checkout"){resursBankHandleCheckoutForms()}};